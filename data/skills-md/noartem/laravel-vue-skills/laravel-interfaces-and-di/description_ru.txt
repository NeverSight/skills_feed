Используйте интерфейсы и внедрение зависимостей для разделения кода; привязывать реализации в контейнере
