複数の書き込み操作をトランザクションでラップします。一貫性を確保するためにdispatchAfterCommitと冪等性パターンを使用する
