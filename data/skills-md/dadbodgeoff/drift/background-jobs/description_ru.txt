Внедрите надежную фоновую обработку заданий с помощью очередей недоставленных писем, повторных попыток и конечных автоматов. Используйте при построении асинхронных рабочих процессов, запланированных задач или любой работы, которая не должна блокировать цикл запроса/ответа.
