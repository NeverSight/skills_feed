---
name: document-qa
description: 文档问答流程，基于知识库文档回答问题，提供引用和置信度
version: 1.0.0
author: AI Mine
tags:
  - document
  - qa
  - rag
  - knowledge
enabled: true
tools:
  - rag_search
  - kg_query
  - memory_add
---

# 文档问答技能

基于知识库文档的问答工作流程，确保答案有据可查。

## 适用场景

- 基于内部文档回答问题
- 知识库查询和引用
- 文档内容验证
- 多文档信息综合

## 问答流程

### Phase 1: 问题理解
1. 解析用户问题，识别关键实体和意图
2. 拆解复合问题为子问题
3. 确定需要检索的信息类型

### Phase 2: 信息检索
1. 构造检索查询（关键词、语义）
2. 从知识库检索相关文档片段
3. 查询知识图谱获取实体关系
4. 评估检索结果的相关性

### Phase 3: 答案生成
1. 综合检索到的信息
2. 验证信息一致性
3. 生成答案并标注来源
4. 评估答案置信度

### Phase 4: 质量保证
1. 检查答案是否完整回答问题
2. 验证引用的准确性
3. 补充相关的延伸信息

## 输出模板

```markdown
# 📖 文档问答

## 问题
> [用户原始问题]

## 答案

[基于文档的详细回答]

### 关键信息
1. **[要点1]**
   > "[原文引用]"
   > — 来源: [文档名称]

2. **[要点2]**
   > "[原文引用]"
   > — 来源: [文档名称]

## 置信度评估

| 维度 | 评分 | 说明 |
|------|------|------|
| 信息覆盖 | 高/中/低 | [是否完整回答问题] |
| 来源可靠性 | 高/中/低 | [来源文档的权威性] |
| 信息一致性 | 高/中/低 | [多来源是否一致] |

**综合置信度**: 高/中/低

## 相关信息

### 知识图谱关联
- [实体1] --[关系]--> [实体2]

### 延伸阅读
- [相关文档1]
- [相关文档2]

## 未解答部分

[如果有问题未能完全回答，说明原因和建议]
- 知识库中未找到关于 [X] 的信息
- 建议上传 [Y] 相关文档

---
*答案基于知识库文档生成，最后更新: [检索时间]*
```

## 问答原则

1. **有据可查**: 每个关键信息都要有来源
2. **坦诚透明**: 明确标注不确定的信息
3. **引用准确**: 直接引用原文，不篡改
4. **主动补充**: 提供相关的延伸信息

## 特殊处理

### 信息缺失
```markdown
⚠️ **信息不足**

知识库中未找到关于 "[问题主题]" 的相关信息。

**建议**:
1. 上传相关文档到知识库
2. 尝试重新描述问题
3. 使用其他信息源
```

### 信息冲突
```markdown
⚠️ **信息冲突**

不同文档对此问题有不同描述：

**观点 A** (来源: [文档1]):
> "[引用]"

**观点 B** (来源: [文档2]):
> "[引用]"

**建议**: 请参考最新或最权威的来源。
```
