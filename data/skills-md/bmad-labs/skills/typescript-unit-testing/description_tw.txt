使用 Jest、@golevelup/ts-jest 和內存數據庫完成 TypeScript/NestJS 項目的單元測試技能。

當用戶需要執行以下操作時，請始終使用此技能：

**SETUP** - 初始化或配置單元測試：
- 為新項目設置 Jest
- 配置測試基礎設施（jest.config.ts）
- 安裝測試依賴項（@nestjs/testing、@golevelup/ts-jest）
- 創建模擬助手或測試實用程序
- 設置覆蓋配置

**WRITE** - 創建或添加單元測試：
- 編寫、創建、添加或生成單元測試
- 測試服務、用例、控制器、防護、攔截器、管道或過濾器
- 添加新代碼或功能的測試
- 提高測試覆蓋率或添加缺失的測試
- 模擬依賴關係或設置測試裝置
- 處理以 .spec.ts 結尾的任何文件

**審查** - 審核或評估單元測試：
- 審查現有的質量測試
- 檢查測試覆蓋率和差距
- 審核測試模式和約定
- 評估斷言質量

**RUN** - 執行或分析測試結果：
- 運行單元測試
- 分析測試結果或覆蓋率報告
- 了解測試失敗或成功
- 檢查哪些測試通過/失敗

**調試** - 修復失敗或損壞的測試：
- 修復失敗的單元測試
- 調試測試錯誤或異常
- 解決模擬問題或設置問題
- 解決測試超時或不穩定測試的問題
- 診斷“未定義”或意外結果

**優化** - 提高測試性能和可維護性：
- 加快緩慢的測試速度
- 修復打開手柄阻止乾淨退出的問題
- 改進測試組織
- 減少測試執行時間
- 清理測試代碼

關鍵詞：單元測試、spec、jest、typescript、nestjs、mock、DeepMocked、createMock、AAA、測試覆蓋率、TDD、.spec.ts、測試、編寫測試、添加測試、創建測試、修復測試、調試測試、運行測試、審查測試、優化測試、測試設置、jest 配置
