Jest、Docker 経由の実際のインフラストラクチャ、および GWT パターンを使用した、TypeScript/NestJS プロジェクトの完全な E2E (エンドツーエンド) および統合テスト スキル。

ユーザーが次のことを行う必要がある場合は、常にこのスキルを使用してください。

**セットアップ** - E2E テスト インフラストラクチャを初期化または構成します。
- 新しいプロジェクトの E2E テストをセットアップする
- テスト用に docker-compose を構成する (Kafka、PostgreSQL、MongoDB、Redis)
- jest-e2e.config.ts または E2E Jest 構成を作成する
- データベース、Kafka、または Redis のテスト ヘルパーをセットアップする
- .env.e2e 環境変数を構成する
- test/e2e ディレクトリ構造を作成する

**書き込み** - E2E/統合テストを作成または追加します。
- e2e テストまたは統合テストを作成、作成、追加、または生成する
- API エンドポイント、ワークフロー、または完全な機能をエンドツーエンドでテストします
- 実際のデータベース、メッセージ ブローカー、または外部サービスを使用してテストする
- Kafka コンシューマ/プロデューサ、イベント駆動型ワークフローのテスト
- .e2e-spec.ts または test/e2e/ ディレクトリで終わるファイルを操作する
- テストに GWT (Given-When-Then) パターンを使用する

**レビュー** - E2E テストを監査または評価します。
- 既存の E2E テストの品質をレビューする
- テストの分離とクリーンアップのパターンを確認する
- GWT パターンのコンプライアンスを監査する
- アサーションの品質と具体性を評価する
- アンチパターンをチェックします (複数の WHEN アクション、条件付きアサーション)

**RUN** - E2E テスト結果を実行または分析します。
- E2E テストを実行する
- テスト用のDockerインフラストラクチャの起動/停止
- E2E テスト結果の分析
- Docker サービスが正常であることを確認する
- テスト出力と失敗を解釈する

**デバッグ** - 失敗した、または不安定な E2E テストを修正します。
- 失敗した E2E テストを修正
- 不安定なテストまたはテスト分離の問題をデバッグする
- 接続エラーのトラブルシューティング (データベース、Kafka、Redis)
- タイムアウトの問題または非同期操作の失敗を修正
- 競合状態または状態リークを診断します。
- Kafka メッセージ消費の問題をデバッグする

**最適化** - E2E テストのパフォーマンスを向上させます:
- 遅い E2E テストを高速化します
- Dockerインフラストラクチャの起動を最適化します。
- 固定待機をスマートポーリングに置き換えます
- 毎回の掃除時間を短縮します
- 安全な場所でテストの並列化を改善する

キーワード: e2e、エンドツーエンド、統合テスト、e2e-spec.ts、test/e2e、Jest、スーパーテスト、NestJS、Kafka、Redpanda、PostgreSQL、MongoDB、Redis、docker-compose、GWT パターン、Given-When-Then、実際のインフラストラクチャ、テスト分離、不安定なテスト、MSW、nock、waitForMessages、e2e の修正、e2e のデバッグ、実行e2e、e2e のレビュー、e2e の最適化、e2e のセットアップ
