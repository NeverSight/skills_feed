通過功能索引和寫入前檢查防止語義代碼重複
