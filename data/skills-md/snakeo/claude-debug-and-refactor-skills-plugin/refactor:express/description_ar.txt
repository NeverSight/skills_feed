قم بإعادة بناء كود Express.js/Node.js لتحسين قابلية الصيانة وسهولة القراءة والالتزام بأفضل الممارسات. يحول جحيم رد الاتصال ومعالجات المسار السميكة والأنماط القديمة إلى كود JavaScript/TypeScript نظيف وحديث. يطبق بنية المزامنة/الانتظار، وبنية مستودع خدمة وحدة التحكم، وأنماط البرامج الوسيطة المناسبة، ووحدات ESM. يحدد ويصلح الأنماط المضادة بما في ذلك حظر حلقة الأحداث، ومعالجة الأخطاء غير الصحيحة، وforEach مع عمليات الاسترجاعات غير المتزامنة، وتسريبات الذاكرة.
