Refactorice el código de Flask para mejorar la mantenibilidad, la legibilidad y el cumplimiento de las mejores prácticas. Esta habilidad transforma las aplicaciones Flask utilizando el patrón de fábrica de aplicaciones, la organización Blueprint y la separación de capas de servicios. Aborda controladores de rutas pesadas, manejo de errores faltantes, uso local de contexto inadecuado y problemas de seguridad. Aplique cuando observe instancias de aplicaciones globales, rutas sin Blueprints, lógica de negocios en los controladores o falta de protección CSRF.
