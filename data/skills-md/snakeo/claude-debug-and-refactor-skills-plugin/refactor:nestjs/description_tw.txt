重構 NestJS/TypeScript 代碼以提高可維護性、可讀性並遵守最佳實踐。識別並修復循環依賴、上帝對象服務、具有業務邏輯的胖控制器、深層嵌套和 SRP 違規。應用 NestJS 模式，包括正確的模塊組織、提供程序範圍、自定義裝飾器、防護、攔截器、管道、帶有類驗證器的 DTO、異常過濾器、CQRS、存儲庫模式和事件驅動架構。將代碼轉換為遵循 SOLID 原則的示例性實現。
