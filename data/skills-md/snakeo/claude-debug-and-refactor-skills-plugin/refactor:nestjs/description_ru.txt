Выполните рефакторинг кода NestJS/TypeScript, чтобы улучшить удобство обслуживания, читабельность и соответствие лучшим практикам. Выявляет и исправляет циклические зависимости, службы объектов-бога, толстые контроллеры с бизнес-логикой, глубокую вложенность и нарушения SRP. Применяет шаблоны NestJS, включая правильную организацию модулей, области действия поставщика, пользовательские декораторы, средства защиты, перехватчики, каналы, DTO с проверкой классов, фильтры исключений, CQRS, шаблон репозитория и архитектуру, управляемую событиями. Преобразует код в образцовые реализации в соответствии с принципами SOLID.
