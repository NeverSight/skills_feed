Комплексное руководство по внутренней разработке для монорепозитория Next.js 14/tRPC/Express/TypeScript от Langfuse. Используйте при создании маршрутизаторов tRPC, конечных точек общедоступного API, процессоров очередей BullMQ, служб или работы с процедурами tRPC, маршрутами API Next.js, доступом к базе данных Prisma, аналитическими запросами ClickHouse, очередями Redis, инструментарием OpenTelemetry, проверкой Zod v4, конфигурацией env.mjs, шаблонами изоляции клиентов или шаблонами асинхронности. Охватывает многоуровневую архитектуру (процедуры tRPC → сервисы, процессоры очередей → сервисы), двойную систему баз данных (PostgreSQL + ClickHouse), фильтрацию projectId для мультитенантной изоляции, обработку ошибок трассировкиException, шаблоны наблюдения и стратегии тестирования (Jest для Интернета, vitest для Worker).
