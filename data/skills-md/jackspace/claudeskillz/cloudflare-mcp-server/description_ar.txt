استخدم هذه المهارة عند إنشاء خوادم بروتوكول السياق النموذجي (MCP) على Cloudflare Workers. يجب استخدام هذه المهارة عند نشر خوادم MCP عن بعد باستخدام TypeScript، أو تنفيذ مصادقة OAuth (GitHub، وGoogle، وAzure، وما إلى ذلك)، أو استخدام كائنات متينة لخوادم MCP ذات الحالة، أو تنفيذ إسبات WebSocket لتحسين التكلفة، أو تكوين طرق النقل المزدوجة (SSE + HTTP القابل للتدفق). تمنع هذه المهارة أكثر من 15 خطأ شائعًا، بما في ذلك مشكلات تصدير فئة McpAgent، وإعادة توجيه OAuth، وفقدان حالة WebSocket، وأخطاء ربط الكائنات الدائمة، وأخطاء تكوين CORS. يتضمن قوالب تم اختبارها في الإنتاج لخوادم MCP الأساسية، وتكامل وكيل OAuth، وخوادم ذات حالة مع كائنات متينة، وتكوينات wrangler.jsonc الكاملة. يغطي جميع أنماط المصادقة الأربعة: التحقق من الرمز المميز، وOAuth عن بعد مع DCR، ووكيل OAuth (موفر OAuth للعمال)، والتنفيذ الكامل لموفر OAuth. مكتفٍ بذاته مع أساسيات العامل والأشياء المعمرة. كفاءة الرمز المميز: توفير ~87% (40 ألفًا → 5 آلاف رمزًا). تم اختبار الإنتاج على خوادم MCP الرسمية الخاصة بـ Cloudflare.

الكلمات الرئيسية: خادم MCP، بروتوكول السياق النموذجي، cloudflare mcp، عمال mcp، خادم mcp عن بعد، mcp typescript، @modelcontextprotocol/sdk، mcp oauth، مصادقة mcp، github oauth mcp، كائنات متينة mcp، websocket Hibernation، mcp sse، http قابل للتدفق، فئة McpAgent، أدوات mcp، موارد mcp، mcp المطالبات، وكيل oauth، موفر oauth للعمال، نشر mcp، خطأ تصدير McpAgent، إعادة توجيه OAuth URI، فقدان حالة WebSocket، mcp cors، mcp dcr
