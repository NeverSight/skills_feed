在 Cloudflare Workers 上構建模型上下文協議 (MCP) 服務器時，請使用此技能。當使用 TypeScript 部署遠程 MCP 服務器、實施 OAuth 身份驗證（GitHub、Google、Azure 等）、使用持久對像用於有狀態 MCP 服務器、實施 WebSocket 休眠以優化成本或配置雙重傳輸方法（SSE + Streamable HTTP）時，應使用此技能。該技能可防止超過 15 個常見錯誤，包括 McpAgent 類導出問題、OAuth 重定向 URI 不匹配、WebSocket 狀態丟失、持久對象綁定錯誤和 CORS 配置錯誤。包括用於基本 MCP 服務器的經過生產測試的模板、OAuth 代理集成、具有持久對象的狀態服務器以及完整的 wrangler.jsonc 配置。涵蓋所有 4 種身份驗證模式：令牌驗證、使用 DCR 的遠程 OAuth、OAuth 代理 (workers-oauth-provider) 和完整的 OAuth 提供程序實​​現。獨立於 Worker 和 Durable Objects 基礎知識。代幣效率：節省約 87%（40k → 5k 代幣）。在 Cloudflare 的官方 MCP 服務器上進行了生產測試。

關鍵詞：MCP 服務器、模型上下文協議、cloudflare mcp、mcp 工作人員、遠程 mcp 服務器、mcp 打字稿、@modelcontextprotocol/sdk、mcp oauth、mcp 身份驗證、github oauth mcp、持久對象 mcp、websocket 休眠、mcp sse、可流式 http、McpAgent 類、mcp 工具、mcp 資源、mcp 提示、oauth 代理、workers-oauth-provider、 mcp 部署、McpAgent 導出錯誤、OAuth 重定向 URI、WebSocket 狀態丟失、mcp cors、mcp dcr
