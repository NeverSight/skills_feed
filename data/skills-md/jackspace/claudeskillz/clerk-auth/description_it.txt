Questa competenza fornisce una conoscenza completa per l'integrazione dell'autenticazione Clerk nelle applicazioni React, Next.js e Cloudflare Workers. Dovrebbe essere utilizzato durante la configurazione dell'autenticazione utente, l'implementazione di percorsi protetti, la verifica dei token JWT, la creazione di modelli JWT personalizzati con metadati utente e attestazioni dell'organizzazione, la configurazione del middleware di Clerk, l'integrazione con componenti shadcn/ui, il test dei flussi di autenticazione o la risoluzione dei problemi di autenticazione di Clerk.

Da utilizzare quando: aggiunta di Clerk a progetti React/Vite, configurazione di Clerk in Next.js App Router, implementazione dell'autenticazione di Clerk in Cloudflare Workers, configurazione di clerkMiddleware per la protezione del percorso, creazione di modelli JWT personalizzati con codici brevi (user.id, user.email, user.public_metadata.role), accesso alle attestazioni di sessione per RBAC, integrazione con Supabase/Grafbase, verifica dei token con @clerk/backend, integrazione di Clerk con Hono, utilizzando i componenti Clerk shadcn/ui, scrivendo test E2E con Playwright, generando token di sessione di test, utilizzando indirizzi e-mail e numeri di telefono di prova o riscontrando errori di autenticazione.

Previene 11 problemi documentati: errori di chiave segreta mancante, errori di migrazione della chiave API, condizioni di competizione della cache JWKS, vulnerabilità CSRF derivanti dalla mancanza di AuthorizedParties, errori del percorso di importazione dopo l'aggiornamento Core 2, problemi relativi ai limiti di dimensione JWT, avvisi di versione API obsoleta, errori del componente JSX ClerkProvider, confusione dell'helper async auth(), errata configurazione delle variabili di ambiente ed errori di intestazione della modalità Vite dev 431.

Parole chiave: impiegato, autenticazione impiegato, autenticazione impiegato, @clerk/nextjs, @clerk/backend, @clerk/clerk-react, clerkMiddleware, createRouteMatcher, verifyToken, useUser, useAuth, useClerk, modello JWT, attestazioni JWT, codici brevi JWT, JWT personalizzato, attestazioni di sessione, modello getToken, user.public_metadata, org_id, org_slug, org_role, CustomJwtSessionClaims, metadati sessionClaims, webhook dell'impiegato, chiave segreta dell'impiegato, chiave pubblicabile dell'impiegato, percorsi protetti, autenticazione Cloudflare Workers, autenticazione Next.js, autenticazione shadcn/ui, @hono/clerk-auth, "Chiave segreta dell'impiegato mancante", "non può essere utilizzato come componente JSX", errore JWKS, AuthorizedParties, middleware dell'impiegato, ClerkProvider, UserButton, Accedi, Registrati, test dell'impiegato, e-mail di prova, test dei numeri di telefono, +clerk_test, 424242 OTP, token di sessione, token di test, @clerk/testing, test del drammaturgo, test E2E, modalità test dell'impiegato, rilevamento bot, generazione token di sessione, test degli utenti
