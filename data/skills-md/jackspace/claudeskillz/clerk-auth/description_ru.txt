Этот навык дает исчерпывающие знания по интеграции аутентификации Clerk в приложениях React, Next.js и Cloudflare Workers. Его следует использовать при настройке аутентификации пользователя, реализации защищенных маршрутов, проверке токенов JWT, создании пользовательских шаблонов JWT с метаданными пользователя и утверждениями организации, настройке промежуточного программного обеспечения Clerk, интеграции с компонентами shadcn/ui, тестировании потоков аутентификации или устранении ошибок аутентификации Clerk.

Используйте при: добавлении Clerk в проекты React/Vite, настройке Clerk в Next.js App Router, реализации аутентификации Clerk в Cloudflare Workers, настройке clerkMiddleware для защиты маршрутов, создании пользовательских шаблонов JWT с короткими кодами (user.id, user.email, user.public_metadata.role), доступе к утверждениям сеанса для RBAC, интеграции с Supabase/Grafbase, проверке токенов с помощью @clerk/backend, интеграция Clerk с Hono, использование компонентов Clerk shadcn/ui, написание E2E-тестов с помощью Playwright, генерация токенов тестового сеанса, использование тестовых адресов электронной почты и номеров телефонов или обнаружение ошибок аутентификации.

Предотвращает 11 задокументированных проблем: отсутствие ошибок секретного ключа, сбои миграции ключей API, условия гонки кэша JWKS, уязвимости CSRF из-за отсутствия авторизованных сторон, ошибки пути импорта после обновления Core 2, проблемы с ограничением размера JWT, предупреждения об устаревшей версии API, ошибки компонента ClerkProvider JSX, путаница с помощником async auth(), неправильная конфигурация переменных среды и ошибки заголовка 431 режима разработки Vite.

Ключевые слова: клерк, аутентификация клерка, аутентификация клерка, @clerk/nextjs, @clerk/backend, @clerk/clerk-react, clerkMiddleware, createRouteMatcher,verifyToken, useUser, useAuth, useClerk, шаблон JWT, утверждения JWT, короткие коды JWT, пользовательский JWT, утверждения сеанса, шаблон getToken, user.public_metadata, org_id, org_slug, org_role, CustomJwtSessionClaims, метаданные sessionClaims, веб-перехватчик клерка, секретный ключ клерка, публикуемый ключ клерка, защищенные маршруты, аутентификация Cloudflare Workers, аутентификация Next.js, аутентификация shadcn/ui, @hono/clerk-auth, «Отсутствует секретный ключ клерка», «нельзя использовать в качестве компонента JSX», Ошибка JWKS, авторизованные стороны, промежуточное программное обеспечение клерка, ClerkProvider, UserButton, вход в систему, регистрация, тестирование клерка, тестовые электронные письма, тестовые номера телефонов, +clerk_test, 424242 OTP, токен сеанса, токен тестирования, @clerk/testing, драматургическое тестирование, тестирование E2E, режим тестирования клерка, обнаружение ботов, создание токена сеанса, тестирование пользователей
