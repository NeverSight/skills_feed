Когда пользователь загружает или ссылается на файл данных (CSV, JSON, XLSX, TXT, LOG) или любой
файл размером более 100 КБ, немедленно оцените стоимость токена с помощью scripts/estimate_size.py.
Если токенов >30 тыс., разбейте файл на фрагменты и суммируйте каждый фрагмент. Если меньше, проведите быструю проверку.
Верните безопасный предварительный просмотр и сводку, не спрашивая пользователя, что делать.
